{"version":3,"sources":["webpack:///./src/router/aliases.js","webpack:///./src/components/models/Hostings.js","webpack:///./src/components/models/PryvServiceExtension.js","webpack:///./src/context.js","webpack:///src/App.vue","webpack:///./src/App.vue?feca","webpack:///./src/App.vue","webpack:///src/components/views/bits/Password.vue","webpack:///./src/components/views/bits/Password.vue?e053","webpack:///./src/components/views/bits/Password.vue","webpack:///src/components/views/bits/Alerts.vue","webpack:///./src/components/views/bits/Alerts.vue?d537","webpack:///./src/components/views/bits/Alerts.vue","webpack:///./src/components/models/AppError.js","webpack:///./src/components/controller/ops/close_or_redirect.js","webpack:///./src/components/controller/ops/accept_access.js","webpack:///./src/components/models/AccessStates.js","webpack:///./src/components/controller/ops/check_username.js","webpack:///./src/components/controller/ops/change_password.js","webpack:///./src/components/controller/ops/check_access.js","webpack:///./src/components/controller/ops/create_user.js","webpack:///./src/components/controller/ops/load_hostings.js","webpack:///./src/components/controller/ops/login.js","webpack:///./src/components/controller/ops/refuse_access.js","webpack:///./src/components/controller/ops/reset_password.js","webpack:///./src/components/controller/ops/get_service_info.js","webpack:///./src/components/controller/ops/mfa_verify.js","webpack:///./src/components/controller/controller.js","webpack:///src/components/views/RegisterUser.vue","webpack:///./src/components/views/RegisterUser.vue?c399","webpack:///./src/components/views/RegisterUser.vue","webpack:///src/components/views/ResetPassword.vue","webpack:///./src/components/views/ResetPassword.vue?9d46","webpack:///./src/components/views/ResetPassword.vue","webpack:///src/components/views/bits/Permissions.vue","webpack:///./src/components/views/bits/Permissions.vue?2892","webpack:///src/components/views/Authorization.vue","webpack:///./src/components/views/bits/Permissions.vue","webpack:///./src/components/views/Authorization.vue?e3c6","webpack:///./src/components/views/Authorization.vue","webpack:///./src/components/views/PageNotFound.vue?f1f9","webpack:///./src/components/views/PageNotFound.vue","webpack:///src/components/views/SigninHub.vue","webpack:///./src/components/views/SigninHub.vue?a5e6","webpack:///./src/components/views/SigninHub.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["module","exports","basePath","pages","index","auth","register","reset","signin","Hostings","hostingsData","_this","this","classCallCheck_default","selection","regions","Object","keys","forEach","regionKey","zones","zoneKey","hostings","hostingKey","hosting","info","name","description","push","value","text","Pryv","Service","prototype","apiEndpointForSync","username","token","buildAPIEndpoint","infoSync","mfaChallenge","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","mfaToken","wrap","_context","prev","next","utils","superagent","post","set","send","stop","_x","_x2","apply","arguments","mfaVerify","_ref2","_callee2","code","res","_context2","sent","abrupt","body","_x3","_x4","_x5","checkAppAccess","_ref3","_callee3","personalToken","checkAppData","_context3","_x6","_x7","_x8","createAppAccess","_ref4","_callee4","requestData","_context4","access","_x9","_x10","_x11","deleteAppAccess","_ref5","_callee5","accessId","_context5","delete","id","accessDeletion","_x12","_x13","_x14","getAvailableHostings","_ref6","_callee6","_context6","get","createUser","_ref7","_callee7","password","email","lang","appId","invitation","referer","_context7","appid","languageCode","invitationtoken","_x15","_x16","_x17","_x18","_x19","_x20","_x21","_x22","checkUsernameExistence","_ref8","_callee8","_context8","server","_x23","getUsernameForEmail","_ref9","_callee9","usernameOrEmail","_context9","search","uid","_x24","requestPasswordReset","_ref10","_callee10","_context10","status","_x25","_x26","changePassword","_ref11","_callee11","newPassword","resetToken","_context11","_x27","_x28","_x29","_x30","Context","queryParams","language","pollUrl","poll","isAccessRequest","pryvService","domain","location","hostname","split","slice","join","serviceInfoUrl","pryvServiceInfoUrl","user","checkAppResult","initialized","loadAccessState","setServiceInfo","accessState","serviceInfo","console","log","t0","Error","App","data","title","logoSrcUrl","errorCaptured","err","vm","alert","created","assets","ctx","context","$route","query","init","setAllDefaults","relativeURL","_assets","logo","url","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","_m","_v","src","height","staticRenderFns","href","rel","src_App","__webpack_require__","normalizeComponent","ssrContext","Password","props","confirmation","type","Boolean","default","String","visiblePass","repass","rules","required","computed","matchPassword","bits_Password","_vm","appendIcon","label","on","input","$event","$emit","click:append","model","callback","$$v","expression","_e","views_bits_Password","Password_normalizeComponent","Alerts","errorMsg","successMsg","alertMsg","length","alertType","bits_Alerts","staticClass","transition","domProps","innerHTML","_s","views_bits_Alerts","Alerts_normalizeComponent","AppError","error","msg","parseError","response","unexpectedError","errorData","encapsulatedError","parseErrorData","subErrors","errors","parseSubErrors","subErrorMsg","Array","isArray","subError","detail","message","closeOrRedirect","returnUrl","returnURL","endsWith","oaccessState","pollKey","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","entries","Symbol","iterator","done","slicedToArray_default","key","val","return","window","close","acceptAccess","appAccess","acceptedState","mismatchingAccess","permissions","checkedPermissions","requestingAppId","apiEndpoint","updateAccessState","checkUsername","checkAccess","showPermissions","checkData","matchingAccess","requestedPermissions","newUser","loadHostings","hostingsSelection","getSelection","login","pryvConnection","t1","refuseAccess","refusedState","reasonId","finish","resetPassword","getServiceInfo","tryAndCatch","fun","_len","args","_key","concat","toConsumableArray_default","controllerFactory","RegisterUser","components","submitting","c","success","test","validForm","controller","then","initHostings","catch","showError","methods","submit","$refs","form","validate","finally","clear","views_RegisterUser","ref","preventDefault","$set","items","placeholder","disabled","click","target","to","components_views_RegisterUser","RegisterUser_normalizeComponent","ResetPassword","showForm","pageTitle","buttonText","views_ResetPassword","components_views_ResetPassword","ResetPassword_normalizeComponent","Permissions","dialog","consentMsg","clientData","marked_default","content","accessMismatch","expire","expireAfter","closeDialog","acceptOrReject","bits_Permissions","width","persistent","staticStyle","text-align","_l","permission","level","toLowerCase","streamId","defaultName","Authorization","Permissions_normalizeComponent","mfaCode","serviceInfos","mfaActivated","showInfos","handleMFA","accept","refuse","infos","views_Authorization","accepted","refused","support","components_views_Authorization","Authorization_normalizeComponent","PageNotFound","views_PageNotFound","PageNotFound_normalizeComponent","SigninHub","toMyPryv","views_SigninHub","components_views_SigninHub","SigninHub_normalizeComponent","Vue","use","VueRouter","Router","mode","base","Aliases","routes","path","redirect","component","alias","route","hasQueryParams","beforeEach","from","Vuetify","config","productionTip","el","router","template"],"mappings":"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","file":"static/js/app.fca327051a2ce3225cdd.js","sourcesContent":["\n/**\n * Used by Vue Router and build process\n **/\n\nmodule.exports = {\n  basePath: 'access',\n  pages: {\n    index: '/index.html',\n    auth: '/access.html',\n    register: '/register.html',\n    reset: '/reset-password.html',\n    signin: '/signinhub.html',\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/aliases.js","// @flow\n\ntype Hosting = {\n  url: string,\n  name: string,\n  description: string,\n  localizedDescription: {\n    [language: string]: string,\n  },\n  available: ?boolean\n};\n\ntype HostingList = {\n  [hostingName: string]: Hosting\n};\n\ntype LocalizedNameList = {\n  [language: string]: string,\n};\n\ntype HostingZone = {\n  name: string,\n  localizedName: LocalizedNameList,\n  hostings: HostingList\n};\n\ntype HostingZoneList = {\n  [zoneName: string]: HostingZone\n};\n\ntype HostingRegion = {\n  name: string,\n  localizedName: LocalizedNameList,\n  zones: HostingZoneList\n};\n\ntype HostingRegionList = {\n  [regionName: string]: HostingRegion\n};\n\ntype HostingDefinition = {\n  regions: HostingRegionList\n};\n\ntype HostingSelectionItem = {\n  value: string,\n  text: string,\n  description: string,\n};\n\nexport type HostingSelection = Array<HostingSelectionItem>;\n\nclass Hostings {\n  regions: HostingRegionList;\n  zones : HostingZoneList;\n  hostings : HostingList;\n  selection: HostingSelection;\n\n  constructor (hostingsData: HostingDefinition) {\n    this.selection = [];\n    const regions = hostingsData.regions;\n    Object.keys(regions).forEach(regionKey => {\n      const region = regions[regionKey];\n      const zones = region.zones;\n      Object.keys(zones).forEach(zoneKey => {\n        const zone = zones[zoneKey];\n        const hostings = zone.hostings;\n        Object.keys(hostings).forEach(hostingKey => {\n          const hosting = hostings[hostingKey];\n          let info = hosting.name || hostingKey;\n          if (hosting.description != null) info = `${info} (${hosting.description})`;\n          this.selection.push({\n            value: hostingKey,\n            text: info,\n            description: hosting.description,\n          });\n        });\n      });\n    });\n  }\n\n  getSelection (): HostingSelection {\n    return this.selection;\n  }\n}\n\nexport default Hostings;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/models/Hostings.js","// @flow\n\nimport Pryv from 'pryv';\nimport Hostings from './Hostings.js';\n\ntype Permission = {\n  streamId: string,\n  level: 'read' | 'contribute' | 'manage',\n  defaultName: ?string,\n  name: ?string,\n};\n\nexport type PermissionsList = Array<Permission>;\n\ntype AppAccess = {\n  type: 'app',\n  permissions: PermissionsList,\n  expires: ?number,\n  token: string,\n};\n\nexport type AppCheck = {\n  checkedPermissions: PermissionsList,\n  matchingAccess: AppAccess,\n  mismatchingAccess: AppAccess,\n};\n\nexport type NewUser = {\n  username: string,\n  server: string,\n};\n\nexport type ServiceInfos = {\n  version: string,\n  register: string,\n  access: string,\n  api: string,\n  name: string,\n  home: string,\n  support: string,\n  terms: string,\n}\n\nPryv.Service.prototype.apiEndpointForSync = function apiEndpointForSync (username, token) {\n  return Pryv.Service.buildAPIEndpoint(this.infoSync(), username, token);\n};\n\n// POST/core: perform MFA challenge\nPryv.Service.prototype.mfaChallenge = async function mfaChallenge (username: string, mfaToken: string): Promise<void> {\n  await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'mfa/challenge')\n    .set('accept', 'json')\n    .set('Authorization', mfaToken)\n    .send({});\n};\n\n// POST/core: verify MFA challenge\nPryv.Service.prototype.mfaVerify = async function mfaVerify (username: string, mfaToken: string, code: string): Promise<string> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'mfa/verify')\n    .set('accept', 'json')\n    .set('Authorization', mfaToken)\n    .send({ code: code });\n  return res.body.token;\n};\n\n// POST/core: check if requested app access already exists or not,\n// answering with one of the three:\n// 1. checkedPermissions: corrected permissions if the access does not exist yet\n// 2. match: existing access with matching permissions\n// 3. mismatch: existing access with mismatching permissions\nPryv.Service.prototype.checkAppAccess = async function checkAppAccess (username: string,\n  personalToken: string, checkAppData: Object): Promise<AppCheck> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'accesses/check-app')\n    .set('accept', 'json')\n    .set('Authorization', personalToken)\n    .send(checkAppData);\n  return res.body;\n};\n\n// POST/core: create a new app access, returns the according app token\nPryv.Service.prototype.createAppAccess = async function createAppAccess (\n  username: string, personalToken: string,\n  requestData: Object): Promise<AppAccess> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'accesses')\n    .set('accept', 'json')\n    .set('Authorization', personalToken)\n    .send(requestData);\n  return res.body.access;\n};\n\n// POST/core: delete an new  access\nPryv.Service.prototype.deleteAppAccess = async function deleteAppAccess (\n  username: string, personalToken: string,\n  accessId: string): Promise<AppAccess> {\n  const res = await Pryv.utils.superagent\n    .delete(this.apiEndpointForSync(username) + 'accesses/' + accessId)\n    .set('accept', 'json')\n    .set('Authorization', personalToken)\n    .send({id: accessId});\n  return res.body.accessDeletion;\n};\n\n// ---------- REGISTER calls ----------\n\n// GET/reg: retrieve all available Pryv hostings\nPryv.Service.prototype.getAvailableHostings = async function getAvailableHostings (): Promise<Hostings> {\n  const res = await Pryv.utils.superagent\n    .get(this.infoSync().register + 'hostings')\n    .set('accept', 'json');\n  return new Hostings(res.body);\n};\n\n// POST/reg: create a new Pryv user\nPryv.Service.prototype.createUser = async function createUser (username: string,\n  password: string, email: string,\n  hosting: string, lang: string, appId: string,\n  invitation: ?string, referer: ?string): Promise<NewUser> {\n  const res = await Pryv.utils.superagent\n    .post(this.infoSync().register + 'user')\n    .set('accept', 'json')\n    .send({\n      appid: appId,\n      username: username,\n      password: password,\n      email: email,\n      hosting: hosting,\n      languageCode: lang || 'en',\n      invitationtoken: invitation || 'enjoy',\n      referer: referer,\n    });\n  return res.body;\n};\n\nPryv.Service.prototype.checkUsernameExistence = async function checkUsernameExistence (username: string): Promise<string> {\n  const res = await Pryv.utils.superagent\n    .post(this.infoSync().register + username + '/server')\n    .set('accept', 'json').send({});\n  return res.body.server;\n};\n\n// GET/reg: convert email to Pryv username\nPryv.Service.prototype.getUsernameForEmail = async function getUsernameForEmail (usernameOrEmail: string): Promise<string> {\n  if (usernameOrEmail.search('@') < 0) {\n    return usernameOrEmail;\n  }\n  const res = await Pryv.utils.superagent\n    .get(this.infoSync().register + usernameOrEmail + '/uid')\n    .set('accept', 'json');\n  return res.body.uid;\n};\n\n// ---------- RESET calls ----------\n\n// POST/core: request a password reset\nPryv.Service.prototype.requestPasswordReset = async function requestPasswordReset (username: string, appId: string): Promise<number> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'account/request-password-reset')\n    .set('accept', 'json')\n    .send({\n      appId: appId,\n      username: username,\n    });\n  return res.status;\n};\n\n// POST/core: change Pryv password using a reset token\nPryv.Service.prototype.changePassword = async function changePassword (username: string,\n  newPassword: string,\n  resetToken: string,\n  appId: string): Promise<number> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'account/reset-password')\n    .set('accept', 'json')\n    .send({\n      username: username,\n      newPassword: newPassword,\n      appId: appId,\n      resetToken: resetToken,\n    });\n  return res.status;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/models/PryvServiceExtension.js","// @flow\nimport Pryv from 'pryv';\nimport type { AccessState } from './components/models/AccessStates.js';\n// augment Pryv with additional functions\nimport './components/models/PryvServiceExtension';\n\ntype QueryParameters = {\n  key: string,\n  pryvServiceInfoUrl: string,\n  poll: string,\n  pollUrl?: string; // should be removed from register's authUrl response and use \"poll\" only\n  lang?: string,\n}\n\nclass Context {\n  appId: string; // id of the web-auth app \n  language: string;\n  accessState: AccessState; // used only in the context of a \"Auth\" process\n  pollUrl: string; // used only in the context of a \"Auth\" process\n  checkAppResult: Object; // use only in the context of a \"Auth\" process after check-app\n  pryvService: Pryv.Service;\n  user: {\n    username: string,\n    personalToken: string,\n    mfaToken: string,\n  };\n  initialized: boolean;\n\n  constructor (queryParams: QueryParameters) {\n    this.language = queryParams.lang || 'en';\n    this.appId = 'pryv-app-web-auth-3';\n    this.pollUrl = queryParams.poll || queryParams.pollUrl;\n    if (this.isAccessRequest()) {\n      // Context will set necessary serviceInfo during Context.init();\n      this.pryvService = new Pryv.Service();\n    } else {\n      const domain = domainFromUrl() || 'pryv.li'; // should be depracted\n      const serviceInfoUrl = queryParams.pryvServiceInfoUrl || 'https://reg.' + domain + '/service/info';\n      this.pryvService = new Pryv.Service(serviceInfoUrl);\n    }\n    this.user = {\n      username: '',\n      personalToken: '',\n      mfaToken: '',\n    };\n    this.checkAppResult = {};\n    this.initialized = false;\n  }\n\n  async init () {\n    if (this.initialized) return;\n    this.initialized = false;\n    if (this.isAccessRequest()) {\n      await this.loadAccessState();\n      this.pryvService.setServiceInfo(this.accessState.serviceInfo);\n    }\n    await this.pryvService.info();\n  }\n\n  isAccessRequest () {\n    return this.pollUrl;\n  }\n\n  // in Auth process load the Poll Url\n  async loadAccessState () {\n    try {\n      const res = await Pryv.utils.superagent.get(this.pollUrl).set('accept', 'json');\n      this.accessState = res.body;\n      return this.accessState;\n    } catch (e) {\n      console.log(e);\n      throw new Error('Invalid data from Access server');\n    }\n  }\n\n  // POST/reg: advertise updated auth state\n  async updateAccessState (accessState: AccessState): Promise<number> {\n    const res = await Pryv.utils.superagent.post(this.pollUrl).send(accessState);\n    this.accessState = accessState;\n    if (this.accessState.lang != null) this.language = this.accessState.lang;\n    return res.status;\n  }\n}\n\nfunction domainFromUrl () {\n  return location.hostname.split('.').slice(1).join('.');\n}\n\nexport default Context;\n\n\n\n// WEBPACK FOOTER //\n// ./src/context.js","<template>\n  <div id=\"app\">\n    <head>\n      <title>Auth</title>\n      <link\n        href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons\"\n        rel=\"stylesheet\">\n    </head>\n    <v-app>\n      <v-content>\n        <v-container>\n          <img\n            :src=\"logoSrcUrl\"\n            height=\"50px\">\n          <router-view/>\n        </v-container>\n      </v-content>\n    </v-app>\n  </div>\n</template>\n\n<script>\nimport Context from './context.js';\n\nexport default {\n  name: 'App',\n  data: () => ({\n    title: 'App-web-auth3',\n    logoSrcUrl: null,\n  }),\n  errorCaptured (err, vm, info) {\n    alert(`[Vue warn]: Unexpected error in ${info}:\n      ${err}`);\n  },\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    const assets = await this.ctx.pryvService.assets();\n    assets.setAllDefaults();\n    this.logoSrcUrl =\n      assets.relativeURL(assets._assets['app-web-auth3'].logo.url);\n  },\n};\n</script>\n\n<style>\n  #app {\n      font-family: 'Roboto', 'Avenir', Helvetica, Arial, sans-serif;\n      text-align: center;\n      padding-left: 20px;\n      padding-right: 20px;\n  }\n  h3 {\n    margin: 8px;\n    display: inline;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('v-app',[_c('v-content',[_c('v-container',[_c('img',{attrs:{\"src\":_vm.logoSrcUrl,\"height\":\"50px\"}}),_vm._v(\" \"),_c('router-view')],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('head',[_c('title',[_vm._v(\"Auth\")]),_vm._v(\" \"),_c('link',{attrs:{\"href\":\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons\",\"rel\":\"stylesheet\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4380fe64\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4380fe64\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4380fe64\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <v-text-field\n      id=\"password\"\n      :value=\"value\"\n      :appendIcon=\"visiblePass ? 'lock_open' : 'lock'\"\n      :type=\"visiblePass ? 'text' : 'password'\"\n      :rules=\"[rules.required]\"\n      label=\"Password\"\n      @input=\"$emit('input', $event)\"\n      @click:append=\"() => (visiblePass = !visiblePass)\"/>\n\n    <v-text-field\n      v-if=\"confirmation\"\n      id=\"passConfirmation\"\n      v-model=\"repass\"\n      :type=\"visiblePass ? 'text' : 'password'\"\n      :rules=\"[matchPassword]\"\n      label=\"Password confirmation\"/>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    confirmation: {type: Boolean, default: false},\n    value: {type: String, default: ''},\n  },\n  data: () => ({\n    visiblePass: false,\n    repass: '',\n    rules: {\n      required: value => !!value || 'Password is required.',\n    },\n  }),\n  computed: {\n    matchPassword: function () {\n      return this.value === this.repass || 'Password confirmation does not match.';\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/bits/Password.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"id\":\"password\",\"value\":_vm.value,\"appendIcon\":_vm.visiblePass ? 'lock_open' : 'lock',\"type\":_vm.visiblePass ? 'text' : 'password',\"rules\":[_vm.rules.required],\"label\":\"Password\"},on:{\"input\":function($event){return _vm.$emit('input', $event)},\"click:append\":function () { return (_vm.visiblePass = !_vm.visiblePass); }}}),_vm._v(\" \"),(_vm.confirmation)?_c('v-text-field',{attrs:{\"id\":\"passConfirmation\",\"type\":_vm.visiblePass ? 'text' : 'password',\"rules\":[_vm.matchPassword],\"label\":\"Password confirmation\"},model:{value:(_vm.repass),callback:function ($$v) {_vm.repass=$$v},expression:\"repass\"}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22eb70b0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/bits/Password.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Password.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Password.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22eb70b0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Password.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/bits/Password.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <v-divider class=\"mt-3 mb-2\"/>\n    <v-alert\n      :value=\"alertMsg\"\n      :type=\"alertType\"\n      transition=\"scale-transition\">\n      <span v-html=\"alertMsg\"/>\n    </v-alert>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    errorMsg: {type: String, default: ''},\n    successMsg: {type: String, default: ''},\n  },\n  computed: {\n    alertMsg: function () {\n      if (this.successMsg.length > 0) return this.successMsg;\n      if (this.errorMsg.length > 0) return this.errorMsg;\n      return '';\n    },\n    alertType: function () {\n      return this.successMsg.length > 0 ? 'success' : 'error';\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/bits/Alerts.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('v-alert',{attrs:{\"value\":_vm.alertMsg,\"type\":_vm.alertType,\"transition\":\"scale-transition\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.alertMsg)}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-17b04082\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/bits/Alerts.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Alerts.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Alerts.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17b04082\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Alerts.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/bits/Alerts.vue\n// module id = null\n// module chunks = ","// @flow\n\ntype SubErrorData = {\n  message: string,\n  detail: ?string,\n};\n\ntype SubErrors = Array<SubErrorData>;\n\ntype EncapsulatedError = {\n  message: string,\n  detail: ?string,\n  body: SubErrors,\n}\n\ntype ErrorData = {\n  message: ?string,\n  detail: ?string,\n  errors: ?SubErrors,\n  error: ?EncapsulatedError,\n};\n\ntype UnparsedError = {\n  response: {\n    body: ErrorData,\n  }\n}\n\nclass AppError {\n  msg: string;\n\n  constructor (error: string | UnparsedError) {\n    this.msg = this.parseError(error);\n  }\n\n  parseError (error: string | UnparsedError): string {\n    console.error(error);\n\n    // Error is a simple string\n    if (typeof error === 'string') {\n      return `<b>${error}</b>`;\n    }\n\n    // Error is lacking of information, declare it as unexpected\n    if (error == null || error.response == null || error.response.body == null) {\n      return `<b>${this.unexpectedError()}</b>`;\n    }\n\n    // Parse main error\n    const errorData = error.response.body;\n    const encapsulatedError = errorData.error;\n    let errorMsg = `<b>${this.parseErrorData(encapsulatedError || errorData)}</b>`;\n\n    // Parse additional sub errors\n    const subErrors = encapsulatedError ? encapsulatedError.body : errorData.errors;\n    errorMsg += this.parseSubErrors(subErrors);\n\n    return errorMsg;\n  }\n\n  parseSubErrors (subErrors: ?SubErrors): string {\n    let subErrorMsg = '';\n    if (subErrors != null && Array.isArray(subErrors)) {\n      subErrors.forEach(subError => {\n        subErrorMsg += `<br/>${this.parseErrorData(subError)}`;\n      });\n    }\n    return subErrorMsg;\n  }\n\n  parseErrorData (errorData: ErrorData | EncapsulatedError | SubErrorData): string {\n    return errorData.detail || errorData.message || this.unexpectedError();\n  }\n\n  unexpectedError () {\n    return 'Unexpected error';\n  }\n}\n\nexport default AppError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/models/AppError.js","// @flow\n\nimport type Context from '../../../context.js';\n\nfunction closeOrRedirect (ctx: Context): void {\n  let returnUrl = ctx.accessState.returnURL;\n  // If no return URL was provided, just close the popup\n  if (returnUrl == null || returnUrl === 'false' || !returnUrl) {\n    window.close();\n  } else {\n    // Otherwise, we need to redirect to the return URL,\n    // passing the resulting parameters as querystring\n\n    if (!returnUrl.endsWith('?')) {\n      returnUrl += '?';\n    }\n\n    if (ctx.accessState.oaccessState) { // OK to use pollKey here\n      returnUrl += `state=${ctx.accessState.oaccessState}&code=${ctx.accessState.pollKey}&poll=${ctx.pollUrl}`;\n    } else {\n      returnUrl += `prYvpoll=${ctx.pollUrl}`;\n      // the following code should be deprecated\n      for (const [key, val] of Object.entries(ctx.accessState)) {\n        if (typeof val === 'string' || typeof val === 'number') {\n          returnUrl += `&prYv${key}=${val}`;\n        }\n      }\n    }\n    location.href = returnUrl;\n  }\n}\n\nexport default closeOrRedirect;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/close_or_redirect.js","// @flow\n\nimport { ACCEPTED_STATUS } from '../../models/AccessStates.js';\nimport type { AccessState } from '../../models/AccessStates.js';\nimport closeOrRedirect from './close_or_redirect.js';\nimport type Context from '../../../context.js';\n\nasync function acceptAccess (ctx: Context): Promise<void> {\n  // Create a new app access\n\n  // we need to delete a previous access first\n  if (ctx.checkAppResult.mismatchingAccess) {\n    const deleteAction = await ctx.pryvService.deleteAppAccess(\n      ctx.user.username,\n      ctx.user.personalToken,\n      ctx.checkAppResult.mismatchingAccess.id);\n    if (!deleteAction.id) {\n      throw new Error('Failed removing existing access');\n    }\n  }\n\n  const requestData = {\n    permissions: ctx.checkAppResult.checkedPermissions,\n    name: ctx.accessState.requestingAppId,\n    type: 'app',\n  };\n  // optionals\n  [\n    'deviceName',\n    'token',\n    'expireAfter',\n    'clientData',\n  ].forEach((key: string) => {\n    if (typeof ctx.accessState[key] !== 'undefined') {\n      requestData[key] = ctx.accessState[key];\n    }\n  });\n\n  const appAccess = await ctx.pryvService.createAppAccess(\n    ctx.user.username,\n    ctx.user.personalToken,\n    requestData);\n\n  // Notify register about accepted state\n  const acceptedState: AccessState = {\n    status: ACCEPTED_STATUS,\n    // TODO use apiEndpoint field as well (keep username/token for older register versions)\n    apiEndpoint: ctx.pryvService.apiEndpointForSync(ctx.user.username, appAccess.token),\n    username: ctx.user.username, // to be deprecated\n    token: appAccess.token, // to be deprecated\n  };\n\n  await ctx.updateAccessState(acceptedState);\n  closeOrRedirect(ctx);\n}\n\nexport default acceptAccess;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/accept_access.js","// @flow\n\nimport type { PermissionsList } from '../models/PryvServiceExtension';\n\nexport const ACCEPTED_STATUS = 'ACCEPTED';\nexport const REFUSED_STATUS = 'REFUSED';\nexport const NEED_SIGNIN_STATUS = 'NEED_SIGNIN';\n\nexport type AccessState = {\n  // common\n  status: string,\n\n  // status=NEED_SIGNIN\n  serviceInfo?: Object,\n  code?: number,\n  key?: string,\n  requestingAppId?: string,\n  requestedPermissions?: PermissionsList,\n  returnURL?: string,\n  poll_rate_ms?: number,\n  clientData?: Object,\n  url?: string,\n  lang?: string,\n  poll?: string,\n  pollKey?: string, // why is this still here?\n  oaccessState?: string,\n  expireAfter?: number, // to be added\n  deviceName?: string, // to be added\n\n  // status=ACCEPTED\n  username?: string,\n  token?: string,\n  apiEndpoint?: string,\n\n  // status=REFUSED\n  reasonId?: string;\n  message?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/models/AccessStates.js","// @flow\n\nimport type Context from '../../../context.js';\n\nasync function checkUsername (ctx: Context): Promise<void> {\n  // Convert email to Pryv username if needed\n  const username = ctx.user.username = await ctx.pryvService.getUsernameForEmail(ctx.user.username);\n  // Check if username exists and retrieve according server/core\n  await ctx.pryvService.checkUsernameExistence(username);\n}\n\nexport default checkUsername;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/check_username.js","// @flow\n\nimport type Context from '../../../context.js';\nimport checkUsername from './check_username.js';\n\nasync function changePassword (\n  ctx: Context,\n  newPassword: string,\n  resetToken: string): Promise<void> {\n  await checkUsername(ctx);\n  await ctx.pryvService.changePassword(\n    ctx.user.username,\n    newPassword,\n    resetToken,\n    ctx.appId);\n}\n\nexport default changePassword;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/change_password.js","// @flow\n\nimport type Context from '../../../context.js';\nimport type {AccessState} from '../../models/AccessStates.js';\nimport {ACCEPTED_STATUS} from '../../models/AccessStates.js';\nimport closeOrRedirect from './close_or_redirect.js';\nimport type { AppCheck } from '../../models/PryvServiceExtension';\n\nasync function checkAccess (\n  ctx: Context,\n  showPermissions: (?string) => void): Promise<void> {\n  const checkData = { };\n  [\n    'requestingAppId',\n    'requestedPermissions',\n    'deviceName',\n    'token',\n    'expireAfter',\n    'clientData',\n  ].forEach((key) => {\n    if (typeof ctx.accessState[key] !== 'undefined') {\n      checkData[key] = ctx.accessState[key];\n    }\n  });\n\n  // Check for existing app access\n  const checkAppResult: AppCheck = await ctx.pryvService.checkAppAccess(\n    ctx.user.username,\n    ctx.user.personalToken,\n    checkData);\n\n  // A matching access exists, returning it alongside with accepted state\n  if (checkAppResult.matchingAccess != null) {\n    const acceptedState: AccessState = {\n      status: ACCEPTED_STATUS,\n      apiEndpoint: ctx.pryvService.apiEndpointForSync(ctx.user.username, checkAppResult.matchingAccess.token),\n      username: ctx.user.username, // to be deprecated\n      token: checkAppResult.matchingAccess.token, // to be deprecated\n    };\n    await ctx.updateAccessState(acceptedState);\n    return closeOrRedirect(ctx);\n  }\n\n  // replace requested permissions by results\n  if (checkAppResult.checkedPermissions != null) {\n    ctx.accessState.requestedPermissions = checkAppResult.checkedPermissions;\n  }\n\n  // We keep checkAppResult in context for display\n  ctx.checkAppResult = checkAppResult;\n\n  // We intentionally do not check for the existence of mismatching access (checkApp.mismatch)\n  // If a mismatching access exists, we also want to create a new access anyway.\n  // Thus, the mismatching access continue to exist independantly of the new access.\n\n  showPermissions();\n}\n\nexport default checkAccess;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/check_access.js","// @flow\n\nimport type Context from '../../../context.js';\n\nexport type NewUser = {\n  username: string,\n  server: string,\n};\n\nasync function createUser (\n  ctx: Context,\n  password: string,\n  email: string,\n  hosting: string,\n): Promise<NewUser> {\n  // Create the new user\n  let referer = null;\n  if (ctx.accessState) {\n    referer = ctx.accessState.referer || ctx.accessState.requestingAppId;\n  };\n  const newUser = await ctx.pryvService.createUser(\n    ctx.user.username,\n    password,\n    email,\n    hosting,\n    ctx.language,\n    ctx.appId,\n    null, // <== invitation token should go here\n    referer);\n  return newUser;\n}\n\nexport default createUser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/create_user.js","// @flow\n\nimport type Context from '../../../context.js';\nimport type {HostingSelection} from '../../models/Hostings.js';\n\nasync function loadHostings (ctx: Context): Promise<HostingSelection> {\n  const hostings = await ctx.pryvService.getAvailableHostings();\n  const hostingsSelection = hostings.getSelection();\n  return hostingsSelection;\n}\n\nexport default loadHostings;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/load_hostings.js","// @flow\n\nimport type Context from '../../../context.js';\nimport { NEED_SIGNIN_STATUS } from '../../models/AccessStates.js';\nimport checkUsername from './check_username.js';\nimport closeOrRedirect from './close_or_redirect.js';\nimport AppError from '../../models/AppError.js';\n\nasync function login (\n  ctx: Context,\n  password: string): Promise<void> {\n  if (ctx.accessState.status !== NEED_SIGNIN_STATUS) {\n    return closeOrRedirect(ctx);\n  }\n\n  await checkUsername(ctx);\n\n  const username = ctx.user.username;\n  // Login against Pryv\n\n  try {\n    const pryvConnection = await ctx.pryvService.login(\n      username,\n      password,\n      ctx.appId);\n\n    ctx.user.personalToken = pryvConnection.token || '';\n  } catch (err) {\n    // MFA is required\n    if (err.response != null && err.response.body != null && err.response.body.mfaToken != null) {\n      const mfaToken = err.response.body.mfaToken;\n      try {\n        await ctx.pryvService.mfaChallenge(username, mfaToken);\n        ctx.user.mfaToken = mfaToken || '';\n      } catch (err) {\n        throw new AppError('Failed to perform MFA challenge.');\n      }\n    } else {\n      throw new AppError('Failed to login.');\n    }\n  }\n}\n\nexport default login;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/login.js","// @flow\n\nimport type Context from '../../../context.js';\nimport {REFUSED_STATUS} from '../../models/AccessStates.js';\nimport type {AccessState} from '../../models/AccessStates.js';\nimport closeOrRedirect from './close_or_redirect.js';\n\nasync function refuseAccess (ctx: Context): Promise<void> {\n  const refusedState: AccessState = {\n    status: REFUSED_STATUS,\n    reasonId: 'REFUSED_BY_USER',\n    message: 'The user refused to give access to the requested permissions',\n  };\n\n  try {\n    // Notify register about refused state\n    await ctx.updateAccessState(refusedState);\n  } finally {\n    // Close the page anyway (the auth state update may answer 403)\n    closeOrRedirect(ctx);\n  }\n}\n\nexport default refuseAccess;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/refuse_access.js","// @flow\n\nimport type Context from '../../../context.js';\nimport checkUsername from './check_username.js';\n\nasync function resetPassword (ctx: Context): Promise<void> {\n  await checkUsername(ctx);\n  await ctx.pryvService.requestPasswordReset(ctx.user.username, ctx.appId);\n}\n\nexport default resetPassword;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/reset_password.js","// @flow\n\nimport type Context from '../../../context.js';\n\nexport type ServiceInfos = {\n  version: string,\n  register: string,\n  access: string,\n  api: string,\n  name: string,\n  home: string,\n  support: string,\n  terms: string,\n}\n\nasync function getServiceInfo (ctx: Context): Promise<ServiceInfos> {\n  const info = await ctx.pryvService.info();\n  return info;\n}\n\nexport default getServiceInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/get_service_info.js","// @flow\n\nimport type Context from '../../../Context.js';\nimport AppError from '../../models/AppError.js';\n\nasync function mfaVerify (\n  ctx: Context,\n  code: string): Promise<void> {\n  // Verify the MFA challenge\n  try {\n    ctx.user.personalToken = await ctx.pryvService.mfaVerify(ctx.user.username, ctx.user.mfaToken, code);\n  } catch (err) {\n    throw new AppError('MFA verification failed.');\n  }\n}\n\nexport default mfaVerify;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/mfa_verify.js","// @flow\n\nimport type Context from '../../context.js';\n\nimport AppError from '../models/AppError.js';\nimport acceptAccess from './ops/accept_access.js';\nimport changePassword from './ops/change_password.js';\nimport checkAccess from './ops/check_access.js';\nimport createUser from './ops/create_user.js';\nimport loadHostings from './ops/load_hostings.js';\nimport login from './ops/login.js';\nimport refuseAccess from './ops/refuse_access.js';\nimport resetPassword from './ops/reset_password.js';\nimport getServiceInfo from './ops/get_service_info.js';\nimport checkUsername from './ops/check_username.js';\nimport mfaVerify from './ops/mfa_verify.js';\n\nfunction tryAndCatch (ctx, fun) {\n  return async (...args: Array<*>) => {\n    try {\n      return await fun(ctx, ...args);\n    } catch (err) {\n      if (err instanceof AppError) {\n        throw err;\n      } else {\n        throw new AppError(err);\n      }\n    }\n  };\n}\n\nfunction controllerFactory (ctx: Context) {\n  return {\n    acceptAccess: tryAndCatch(ctx, acceptAccess),\n    changePassword: tryAndCatch(ctx, changePassword),\n    checkAccess: tryAndCatch(ctx, checkAccess),\n    createUser: tryAndCatch(ctx, createUser),\n    loadHostings: tryAndCatch(ctx, loadHostings),\n    login: tryAndCatch(ctx, login),\n    refuseAccess: tryAndCatch(ctx, refuseAccess),\n    resetPassword: tryAndCatch(ctx, resetPassword),\n    getServiceInfo: tryAndCatch(ctx, getServiceInfo),\n    checkUsername: tryAndCatch(ctx, checkUsername),\n    mfaVerify: tryAndCatch(ctx, mfaVerify),\n  };\n}\n\nexport default controllerFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/controller.js","<template>\n  <div>\n    <h1>Register a new user</h1>\n\n    <v-form\n      v-if=\"newUser==null\"\n      id=\"registerForm\"\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n\n      <v-text-field\n        id=\"email\"\n        v-model=\"email\"\n        :rules=\"[rules.required, rules.email]\"\n        label=\"E-mail\"\n      />\n\n      <v-text-field\n        id=\"username\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        label=\"Username\"\n      />\n\n      <Password\n        v-model=\"password\"\n        :confirmation=\"true\"/>\n\n      <v-autocomplete\n        id=\"hosting\"\n        v-model=\"hosting\"\n        :items=\"hostingsSelection\"\n        :rules=\"[rules.required]\"\n        placeholder=\"Choose hosting...\"\n        label=\"Hosting\"\n      />\n\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm||submitting\"\n        @click=\"submit\"\n      >Create</v-btn>\n\n      <v-btn\n        id=\"clearButton\"\n        @click=\"clear\"\n      >Clear</v-btn>\n\n      <div>\n        By registering you agree with our\n        <a\n          target=\"_blank\"\n          href=\"https://pryv.com/terms-of-use/\">\n        terms of use</a>.\n      </div>\n    </v-form>\n    <div v-if=\"ctx.isAccessRequest()\">\n      <v-divider class=\"mt-3 mb-2\"/>\n      <router-link :to=\"{ name: 'Authorization' }\"><h3>Go to Sign in</h3></router-link>\n    </div>\n\n    <Alerts\n      :successMsg=\"success\"\n      :errorMsg=\"error\"/>\n  </div>\n</template>\n\n<script>\nimport Password from './bits/Password.vue';\nimport Alerts from './bits/Alerts.vue';\nimport Context from '../../context.js';\nimport controllerFactory from '../controller/controller.js';\n\nexport default {\n  components: {\n    Password,\n    Alerts,\n  },\n  data: () => ({\n    password: '',\n    email: '',\n    hosting: '',\n    hostingsSelection: [],\n    newUser: null,\n    submitting: false,\n    ctx: {},\n    c: null,\n    error: '',\n    success: '',\n    rules: {\n      required: value => !!value || 'This field is required.',\n      email: value => /.+@.+/.test(value) || 'E-mail must be valid.',\n    },\n    validForm: false,\n  }),\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.c = controllerFactory(this.ctx);\n    // Fill selector with available hostings, preselect first one\n    this.c.loadHostings()\n      .then(this.initHostings)\n      .catch(this.showError);\n  },\n  methods: {\n    submit () {\n      if (this.$refs.form.validate()) {\n        this.submitting = true;\n        this.c.createUser(this.password, this.email, this.hosting)\n          .then((newUser) => {\n            this.newUser = newUser;\n            this.success = `New user successfully created: ${newUser.username}.`;\n            if (!this.ctx.isAccessRequest()) {\n              location.href = this.ctx.pryvService.apiEndpointForSync(newUser.username);\n            }\n          })\n          .catch(this.showError)\n          .finally(() => { this.submitting = false; });\n      }\n    },\n    clear () {\n      this.$refs.form.reset();\n    },\n    initHostings (hostings) {\n      this.hostingsSelection = hostings;\n      if (this.hostingsSelection.length > 0) {\n        this.hosting = this.hostingsSelection[0].value;\n      }\n    },\n    showError (error) {\n      this.error = error.msg;\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/RegisterUser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Register a new user\")]),_vm._v(\" \"),(_vm.newUser==null)?_c('v-form',{ref:\"form\",attrs:{\"id\":\"registerForm\"},on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"email\",\"rules\":[_vm.rules.required, _vm.rules.email],\"label\":\"E-mail\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"id\":\"username\",\"rules\":[_vm.rules.required],\"label\":\"Username\"},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),_c('Password',{attrs:{\"confirmation\":true},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('v-autocomplete',{attrs:{\"id\":\"hosting\",\"items\":_vm.hostingsSelection,\"rules\":[_vm.rules.required],\"placeholder\":\"Choose hosting...\",\"label\":\"Hosting\"},model:{value:(_vm.hosting),callback:function ($$v) {_vm.hosting=$$v},expression:\"hosting\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm||_vm.submitting},on:{\"click\":_vm.submit}},[_vm._v(\"Create\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"clearButton\"},on:{\"click\":_vm.clear}},[_vm._v(\"Clear\")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n      By registering you agree with our\\n      \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://pryv.com/terms-of-use/\"}},[_vm._v(\"\\n      terms of use\")]),_vm._v(\".\\n    \")])],1):_vm._e(),_vm._v(\" \"),(_vm.ctx.isAccessRequest())?_c('div',[_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'Authorization' }}},[_c('h3',[_vm._v(\"Go to Sign in\")])])],1):_vm._e(),_vm._v(\" \"),_c('Alerts',{attrs:{\"successMsg\":_vm.success,\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33fd70c8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/RegisterUser.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RegisterUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RegisterUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33fd70c8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RegisterUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/RegisterUser.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <h1>{{ pageTitle }}</h1>\n\n    <v-form\n      v-if=\"showForm\"\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n\n      <v-text-field\n        id=\"usernameOrEmail\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        label=\"Username or email\"/>\n\n      <Password\n        v-if=\"resetToken!=null\"\n        v-model=\"password\"\n        :confirmation=\"true\"/>\n\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm||submitting\"\n        @click=\"submit\"\n      >{{ buttonText }}</v-btn>\n    </v-form>\n    <!--\n    // If the reset password happend during an Auth Proceess (pollUrl exists)\n    -->\n    <div v-if=\"ctx.isAccessRequest()\">\n      <v-divider class=\"mt-3 mb-2\"/>\n      <router-link :to=\"{ name: 'Authorization' }\"><h3>Go to Sign in</h3></router-link>\n    </div>\n\n    <Alerts\n      :successMsg=\"success\"\n      :errorMsg=\"error\"/>\n  </div>\n</template>\n\n<script>\nimport Password from './bits/Password';\nimport Alerts from './bits/Alerts';\nimport Context from '../../context.js';\nimport controllerFactory from '../controller/controller.js';\n\nexport default {\n  components: {\n    Password,\n    Alerts,\n  },\n  props: {\n    resetToken: {type: String, default: null},\n  },\n  data: () => ({\n    password: '',\n    error: '',\n    success: '',\n    showForm: true,\n    submitting: false,\n    ctx: {},\n    c: null,\n    rules: {\n      required: value => !!value || 'This field is required.',\n    },\n    validForm: false,\n  }),\n  computed: {\n    pageTitle: function () {\n      return this.resetToken ? 'Set a new password' : 'Reset password';\n    },\n    buttonText: function () {\n      return this.resetToken ? 'Change password' : 'Request password reset';\n    },\n  },\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.c = controllerFactory(this.ctx);\n  },\n  methods: {\n    submit () {\n      if (this.$refs.form.validate()) {\n        this.submitting = true;\n        // Ask for a reset token\n        if (this.resetToken == null) {\n          this.c.resetPassword()\n            .then(() => {\n              this.showForm = false;\n              this.success = 'We have sent password reset instructions to your e-mail address.';\n            })\n            .catch(this.showError)\n            .finally(() => { this.submitting = false; });\n        } else {\n          // If we already got a reset token, we can change the password\n          this.c.changePassword(this.password, this.resetToken)\n            .then(() => {\n              this.showForm = false;\n              this.success = 'Your password have been successfully changed.';\n            })\n            .catch(this.showError)\n            .finally(() => { this.submitting = false; });\n        }\n      }\n    },\n    showError (error) {\n      this.error = error.msg;\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/ResetPassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.pageTitle))]),_vm._v(\" \"),(_vm.showForm)?_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"usernameOrEmail\",\"rules\":[_vm.rules.required],\"label\":\"Username or email\"},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),(_vm.resetToken!=null)?_c('Password',{attrs:{\"confirmation\":true},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm||_vm.submitting},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.buttonText))])],1):_vm._e(),_vm._v(\" \"),(_vm.ctx.isAccessRequest())?_c('div',[_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'Authorization' }}},[_c('h3',[_vm._v(\"Go to Sign in\")])])],1):_vm._e(),_vm._v(\" \"),_c('Alerts',{attrs:{\"successMsg\":_vm.success,\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ac944ec2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/ResetPassword.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResetPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResetPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ac944ec2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResetPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/ResetPassword.vue\n// module id = null\n// module chunks = ","<template>\n  <v-dialog\n    v-model=\"dialog\"\n    width=\"600\"\n    persistent>\n    <v-card>\n      <v-card-title\n        id=\"appIdText\"\n        class=\"headline grey lighten-2\">\n        <span><b>{{ accessState.requestingAppId }}</b></span>\n      </v-card-title>\n      <v-card-text style=\"text-align:left\">\n        <h4>Is requesting permission:</h4>\n        <ul>\n          <li\n            v-for=\"(permission, index) in accessState.requestedPermissions\"\n            :key=\"index\">\n            to {{ permission.level.toLowerCase() }} <u>{{ permission.streamId === '*' ? '* (all data)' : permission.name || permission.defaultName }}</u>\n          </li>\n        </ul>\n        <span\n          v-if=\"expire\"\n          style=\"text-align:left\">\n          <b>will expire after:</b> {{ accessState.expireAfter }}s\n        </span>\n        <br>\n        <span\n          v-if=\"consentMsg\"\n          v-html=\"consentMsg\"/>\n      </v-card-text>\n      <v-alert\n        v-if=\"accessMismatch\"\n        :value=\"accessMismatch\"\n        :type=\"alertType\"\n        transition=\"scale-transition\"\n        style=\"text-align:left\">\n        <b>A different access was already given to this app. Do you want to replace it?</b>\n      </v-alert>\n      <v-divider/>\n      <v-card-actions>\n        <v-spacer/>\n        <v-btn\n          id=\"refusePermissions\"\n          @click=\"closeDialog('refused')\"\n        >Reject</v-btn>\n        <v-btn\n          id=\"acceptPermissions\"\n          @click=\"closeDialog('accepted')\"\n        >Accept</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport marked from 'marked';\nexport default {\n  props: {\n    ctx: { type: Object, default: () => {} },\n  },\n  data: () => ({\n    dialog: true,\n    accessState: null,\n    checkAppResult: null,\n  }),\n\n  computed: {\n    consentMsg: function () {\n      if (this.ctx.accessState.clientData != null) {\n        const description = this.ctx.accessState.clientData['app-web-auth:description'];\n        return description != null ? marked(description.content) : '';\n      }\n    },\n    accessMismatch: function () {\n      return (this.ctx.checkAppResult.mismatchingAccess != null);\n    },\n    expire: function () {\n      return (this.ctx.accessState.expireAfter != null);\n    },\n  },\n  created: function () {\n    this.accessState = this.ctx.accessState;\n    this.checkAppResult = this.ctx.checkAppResult;\n  },\n  methods: {\n    closeDialog (acceptOrReject) {\n      this.dialog = false;\n      this.$emit(acceptOrReject);\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/bits/Permissions.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"600\",\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline grey lighten-2\",attrs:{\"id\":\"appIdText\"}},[_c('span',[_c('b',[_vm._v(_vm._s(_vm.accessState.requestingAppId))])])]),_vm._v(\" \"),_c('v-card-text',{staticStyle:{\"text-align\":\"left\"}},[_c('h4',[_vm._v(\"Is requesting permission:\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.accessState.requestedPermissions),function(permission,index){return _c('li',{key:index},[_vm._v(\"\\n          to \"+_vm._s(permission.level.toLowerCase())+\" \"),_c('u',[_vm._v(_vm._s(permission.streamId === '*' ? '* (all data)' : permission.name || permission.defaultName))])])}),0),_vm._v(\" \"),(_vm.expire)?_c('span',{staticStyle:{\"text-align\":\"left\"}},[_c('b',[_vm._v(\"will expire after:\")]),_vm._v(\" \"+_vm._s(_vm.accessState.expireAfter)+\"s\\n      \")]):_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),(_vm.consentMsg)?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.consentMsg)}}):_vm._e()]),_vm._v(\" \"),(_vm.accessMismatch)?_c('v-alert',{staticStyle:{\"text-align\":\"left\"},attrs:{\"value\":_vm.accessMismatch,\"type\":_vm.alertType,\"transition\":\"scale-transition\"}},[_c('b',[_vm._v(\"A different access was already given to this app. Do you want to replace it?\")])]):_vm._e(),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"refusePermissions\"},on:{\"click\":function($event){return _vm.closeDialog('refused')}}},[_vm._v(\"Reject\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"acceptPermissions\"},on:{\"click\":function($event){return _vm.closeDialog('accepted')}}},[_vm._v(\"Accept\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c96ce6c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/bits/Permissions.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <h1>Sign in</h1>\n\n    <Permissions\n      v-if=\"ctx.checkAppResult.checkedPermissions!=null\"\n      :ctx=\"ctx\"\n      @accepted=\"accept\"\n      @refused=\"refuse\"/>\n\n    <!--v-model below may be replaced by v-if-->\n    <v-dialog\n      v-model=\"mfaActivated\"\n      persistent\n      width=\"600\">\n      <v-card>\n        <v-card-title class=\"headline grey lighten-2\">MFA verification</v-card-title>\n        <v-text-field\n          id=\"mfaCode\"\n          v-model=\"mfaCode\"\n          :rules=\"[rules.required]\"\n          class=\"ma-3\"\n          label=\"MFA code\"/>\n        <v-card-actions>\n          <v-spacer/>\n          <v-btn\n            @click=\"ctx.user.mfaToken = ''; mfaCode = ''\">Cancel</v-btn>\n          <v-btn\n            @click=\"handleMFA()\">Ok</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-form\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n\n      <v-text-field\n        id=\"usernameOrEmail\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        label=\"Username or email\"/>\n\n      <Password v-model=\"password\"/>\n\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm||submitting\"\n        @click=\"submit\"\n      >Sign In</v-btn>\n\n      <v-btn\n        @click=\"refuse\"\n      >Cancel</v-btn>\n\n      <div v-if=\"serviceInfos.support\">\n        Feel free to reach our\n        <a\n          :href=\"serviceInfos.support\"\n          target=\"_blank\">\n          helpdesk</a>\n        if you have questions.\n      </div>\n    </v-form>\n\n    <v-divider class=\"mt-3 mb-2\"/>\n\n    <router-link :to=\"{ name: 'RegisterUser' }\"><h3>Create an account</h3></router-link>\n\n    <router-link :to=\"{ name: 'ResetPassword' }\"><h3>Forgot password</h3></router-link>\n\n    <Alerts\n      :errorMsg=\"error\"/>\n  </div>\n</template>\n\n<script>\nimport Password from './bits/Password.vue';\nimport Permissions from './bits/Permissions.vue';\nimport Alerts from './bits/Alerts.vue';\nimport Context from '../../context.js';\nimport controllerFactory from '../controller/controller.js';\n\nexport default {\n  components: {\n    Password,\n    Permissions,\n    Alerts,\n  },\n  data: () => ({\n    password: '',\n    personalToken: '',\n    mfaToken: '',\n    mfaCode: '',\n    error: '',\n    checkedPermissions: null,\n    checkAppResult: null,\n    serviceInfos: {},\n    submitting: false,\n    c: null,\n    ctx: {},\n    rules: {\n      required: value => !!value || 'This field is required.',\n      email: value => /.+@.+/.test(value) || 'E-mail must be valid',\n    },\n    validForm: false,\n  }),\n  computed: {\n    mfaActivated: {\n      get: function () {\n        return this.ctx.user.mfaToken !== '';\n      },\n    },\n  },\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.c = controllerFactory(this.ctx);\n    this.c.getServiceInfo()\n      .then(this.showInfos)\n      .catch(this.showError);\n  },\n  methods: {\n    async submit () {\n      if (this.$refs.form.validate()) {\n        this.submitting = true;\n        try {\n          await this.c.login(this.password);\n          if (!this.mfaActivated) {\n            await this.c.checkAccess(this.showPermissions);\n          }\n        } catch (err) {\n          this.showError(err);\n        } finally {\n          this.submitting = false;\n        }\n      }\n    },\n    // Handle provided MFA code\n    async handleMFA () {\n      try {\n        await this.c.mfaVerify(this.mfaCode);\n        await this.c.checkAccess(this.showPermissions);\n      } catch (err) {\n        this.showError(err);\n      } finally {\n        this.ctx.user.mfaToken = '';\n      }\n    },\n    // Print requested permissions to the user\n    showPermissions () {\n      this.checkAppResult = this.ctx.checkAppResult;\n      this.checkedPermissions = this.ctx.checkedPermissions;\n    },\n    // The user accepts the requested permissions\n    accept () {\n      this.c.acceptAccess()\n        .catch(this.showError);\n    },\n    // The user refuses the requested permissions\n    refuse () {\n      this.c.refuseAccess()\n        .catch(this.showError);\n    },\n    showError (error) {\n      this.error = error.msg;\n    },\n    showInfos (infos) {\n      this.serviceInfos = infos;\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/Authorization.vue","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Permissions.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Permissions.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c96ce6c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Permissions.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/bits/Permissions.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Sign in\")]),_vm._v(\" \"),(_vm.ctx.checkAppResult.checkedPermissions!=null)?_c('Permissions',{attrs:{\"ctx\":_vm.ctx},on:{\"accepted\":_vm.accept,\"refused\":_vm.refuse}}):_vm._e(),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"600\"},model:{value:(_vm.mfaActivated),callback:function ($$v) {_vm.mfaActivated=$$v},expression:\"mfaActivated\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline grey lighten-2\"},[_vm._v(\"MFA verification\")]),_vm._v(\" \"),_c('v-text-field',{staticClass:\"ma-3\",attrs:{\"id\":\"mfaCode\",\"rules\":[_vm.rules.required],\"label\":\"MFA code\"},model:{value:(_vm.mfaCode),callback:function ($$v) {_vm.mfaCode=$$v},expression:\"mfaCode\"}}),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{on:{\"click\":function($event){_vm.ctx.user.mfaToken = ''; _vm.mfaCode = ''}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{on:{\"click\":function($event){return _vm.handleMFA()}}},[_vm._v(\"Ok\")])],1)],1)],1),_vm._v(\" \"),_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"usernameOrEmail\",\"rules\":[_vm.rules.required],\"label\":\"Username or email\"},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),_c('Password',{model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm||_vm.submitting},on:{\"click\":_vm.submit}},[_vm._v(\"Sign In\")]),_vm._v(\" \"),_c('v-btn',{on:{\"click\":_vm.refuse}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),(_vm.serviceInfos.support)?_c('div',[_vm._v(\"\\n      Feel free to reach our\\n      \"),_c('a',{attrs:{\"href\":_vm.serviceInfos.support,\"target\":\"_blank\"}},[_vm._v(\"\\n        helpdesk\")]),_vm._v(\"\\n      if you have questions.\\n    \")]):_vm._e()],1),_vm._v(\" \"),_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'RegisterUser' }}},[_c('h3',[_vm._v(\"Create an account\")])]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'ResetPassword' }}},[_c('h3',[_vm._v(\"Forgot password\")])]),_vm._v(\" \"),_c('Alerts',{attrs:{\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6912eaa4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/Authorization.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Authorization.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Authorization.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6912eaa4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Authorization.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/Authorization.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"404 - Page not found\")]),_vm._v(\"\\n  The page you are looking for is like time in quantum gravity theories, it does not exist.\\n\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-426f1a13\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/PageNotFound.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-426f1a13\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PageNotFound.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/PageNotFound.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <h1>Signin hub</h1>\n\n    <v-form\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n\n      <v-text-field\n        id=\"usernameOrEmail\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        label=\"Username or email\"/>\n\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm\"\n        @click=\"submit\"\n      >Go to my homepage</v-btn>\n\n    </v-form>\n\n    <v-divider class=\"mt-3 mb-2\"/>\n    <router-link :to=\"{ name: 'RegisterUser' }\"><h3>New to {{ serviceInfo.name }} ? Create an account</h3></router-link>\n\n    <Alerts\n      :errorMsg=\"error\"/>\n  </div>\n</template>\n\n<script>\nimport Alerts from './bits/Alerts';\nimport Context from '../../context.js';\nimport controllerFactory from '../controller/controller.js';\n\nexport default {\n  components: {\n    Alerts,\n  },\n  data: () => ({\n    username: '',\n    error: '',\n    ctx: {},\n    c: null,\n    rules: {\n      required: value => !!value || 'This field is required.',\n    },\n    validForm: false,\n    serviceInfo: {name: ''},\n  }),\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.c = controllerFactory(this.ctx);\n    this.serviceInfo = await this.ctx.pryvService.info();\n  },\n  methods: {\n    submit () {\n      if (this.$refs.form.validate()) {\n        this.c.checkUsername()\n          .then(this.toMyPryv)\n          .catch(this.showError);\n      }\n    },\n    toMyPryv () {\n      location.href = this.ctx.pryvService.apiEndpointForSync(this.ctx.user.username);\n    },\n    showError (error) {\n      this.error = error.msg;\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/SigninHub.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Signin hub\")]),_vm._v(\" \"),_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"usernameOrEmail\",\"rules\":[_vm.rules.required],\"label\":\"Username or email\"},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm},on:{\"click\":_vm.submit}},[_vm._v(\"Go to my homepage\")])],1),_vm._v(\" \"),_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'RegisterUser' }}},[_c('h3',[_vm._v(\"New to \"+_vm._s(_vm.serviceInfo.name)+\" ? Create an account\")])]),_vm._v(\" \"),_c('Alerts',{attrs:{\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-96df439a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/SigninHub.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SigninHub.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SigninHub.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-96df439a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SigninHub.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/SigninHub.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport RegisterUser from '@/components/views/RegisterUser';\nimport ResetPassword from '@/components/views/ResetPassword';\nimport Authorization from '@/components/views/Authorization';\nimport PageNotFound from '@/components/views/PageNotFound';\nimport SigninHub from '@/components/views/SigninHub';\nimport Aliases from './aliases.js';\n\nVue.use(VueRouter);\n\nlet Router = new VueRouter({\n  mode: 'history',\n  base: Aliases.basePath,\n  routes: [\n    {\n      path: '/',\n      redirect: {name: 'Authorization'},\n    },\n    {\n      path: '/auth',\n      name: 'Authorization',\n      component: Authorization,\n      alias: Aliases.pages.auth,\n    },\n    {\n      path: '/register',\n      name: 'RegisterUser',\n      component: RegisterUser,\n      alias: Aliases.pages.register,\n    },\n    {\n      path: '/reset',\n      name: 'ResetPassword',\n      component: ResetPassword,\n      props: (route) => ({\n        resetToken: route.query.resetToken,\n      }),\n      alias: Aliases.pages.reset,\n    },\n    {\n      path: '/signin',\n      name: 'SigninHub',\n      component: SigninHub,\n      alias: Aliases.pages.signin,\n    },\n    {\n      path: '*',\n      component: PageNotFound,\n    },\n  ],\n});\n\nfunction hasQueryParams (route) {\n  return !!Object.keys(route.query).length;\n}\n\nRouter.beforeEach((to, from, next) => {\n  if (!hasQueryParams(to) && hasQueryParams(from)) {\n    // Persist query parameters between pages\n    next({name: to.name, query: from.query});\n  } else {\n    next();\n  }\n});\n\nexport default Router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport router from './router';\nimport Vuetify from 'vuetify';\nimport 'vuetify/dist/vuetify.min.css';\n\nVue.use(Vuetify);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}